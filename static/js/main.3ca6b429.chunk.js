(this["webpackJsonppoll-app"]=this["webpackJsonppoll-app"]||[]).push([[0],{160:function(e,t,a){},161:function(e,t,a){},163:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(12),l=a.n(r),i=(a(58),a(51)),o=a(5),c=a(6),d=a(2),u=a(8),m=a(7),h=(a(59),a(60),a(47)),p=a(48);var b=function(e){var t=e.answers.map((function(t){return s.a.createElement("div",{className:"list d-flex justify-content-between align-items-center bg-info border border-light rounded mb-2",key:t.key},s.a.createElement("textarea",{className:"pl-3 mb-1 bg-transparent text-white border-0",type:"text",wrap:"soft",maxLength:"81",id:t.key,value:t.value,onChange:function(a){e.setUpdate(a.target.value,t.key)}}),s.a.createElement("span",{className:"pr-2"},s.a.createElement(h.a,{type:"button",icon:"times",onClick:function(){return e.deleteAnswer(t.key)}})))}));return s.a.createElement("div",{className:"mt-4"},s.a.createElement(p.a,{duration:400,easing:"ease-in-out"},t))},v=a(13),f=a(49);v.b.add(f.a);var w=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e,t,a;return e=10===this.props.counter?s.a.createElement("div",{className:"alert alert-danger",role:"alert"},"You can't add more answers"):this.props.counter<2?s.a.createElement("div",{className:"alert alert-warning",role:"alert"},"Add question and at least 2 answers"):null,t=!0===this.props.disabled||this.props.question.value.length>=82?s.a.createElement("div",{className:"alert alert-danger",role:"alert"},"You can add max 80 characters"):null,a=this.props.question.value.length>0&&0===this.props.question.value.trim().length||this.props.currentAnswer.value&&this.props.currentAnswer.value.length>0&&0===this.props.currentAnswer.value.trim().length?s.a.createElement("div",{className:"alert alert-danger",role:"alert"},"You can't provie only spaces"):null,s.a.createElement("div",{className:"create-box"},s.a.createElement("div",null,s.a.createElement("h2",null,"Create")),s.a.createElement("div",{className:"create-context d-flex flex-column justify-content-between"},s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("input",{type:"text",maxLength:"81",className:"form-control mb-3 mt-3 bg-warning",onInput:this.props.updateQuestion,value:this.props.question.value,placeholder:"Type a question"}),s.a.createElement(b,{answers:this.props.answers,deleteAnswer:this.props.deleteAnswer,setUpdate:this.props.setUpdate}),s.a.createElement("form",{onSubmit:this.props.addAnswer},s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{type:"text",maxLength:"80",className:"form-control bg-light text-dark",id:"add-answer-field",placeholder:"Type an answer","aria-label":"Type an answer","aria-describedby":"button-addon2",value:this.props.currentAnswer.value,onChange:this.props.handleInput}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("button",{className:"btn btn-outline-secondary bg-info text-white",type:"submit",id:"button-addon2"},"Add"))))),s.a.createElement("div",null,a,t,e)),s.a.createElement("div",{className:"possible-answers d-flex d-md-flex flex-column flex-md-row justify-content-between align-items-end"},s.a.createElement("p",{className:"m-0"},this.props.counter,"/10 possible answers"),s.a.createElement("button",{className:"btn btn-outline-secondary bg-danger text-white text-center pr-4 pl-4 mt-3 mt-md-0",type:"button",value:"reset",onClick:this.props.reset},"Reset"))))}}]),a}(s.a.Component);var g=function(e){var t=e.answers.map((function(t){return s.a.createElement("div",{className:"answer-box form-check",key:t.key},s.a.createElement("input",{className:"radio form-check-input",type:"radio",id:t.key,value:t.value,name:"answer",onChange:function(t){return e.radioOnChange(t)}}),t.value)}));return s.a.createElement("div",{className:"mt-4 pt-3"},t)},y=(a(65),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"vote-box d-flex flex-column mt-5 mt-md-0 ml-md-5 mr-md-5"},s.a.createElement("div",null,s.a.createElement("h2",null,"Vote")),s.a.createElement("div",{className:"vote-context d-flex flex-column justify-content-between"},s.a.createElement("div",null,s.a.createElement("div",{className:"mb-4 mt-3"},s.a.createElement("h5",null,this.props.question.value)),s.a.createElement(g,{answers:this.props.answers,radioOnChange:this.props.radioOnChange})),s.a.createElement("div",{className:"btn-vote mt-5 mt-md-0"},s.a.createElement("button",{className:"btn btn-outline-secondary bg-info text-white text-center pr-5 pl-5",id:"btnVote",type:"button",onClick:this.props.onVoteClick},"Vote"))))}}]),a}(s.a.Component)),E=a(50),k=(a(160),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"results-box d-flex flex-column justify-content-between mt-5 mt-md-0"},s.a.createElement("h2",null,"Results"),s.a.createElement("div",{className:"results-context d-flex flex-column justify-content-between"},s.a.createElement("div",null,s.a.createElement("div",{className:"mt-3"},s.a.createElement("h5",null,this.props.question.value)),s.a.createElement("div",{className:"chart"},s.a.createElement(E.Bar,{data:this.props.chartData,height:300,options:{responsive:!0,legend:{display:!1},scales:{yAxes:[{ticks:{min:0,stepSize:1}}]}}}))),s.a.createElement("div",{className:"total-votes"},s.a.createElement("p",null,"Total votes: ",this.props.votes))))}}]),a}(s.a.Component)),x=function(){return s.a.createElement("div",{className:"bg-light text-dark fixed-bottom text-center"},s.a.createElement("p",{className:"p-2 m-0"},"Created by"," ",s.a.createElement("a",{href:"https://monikaswidzinska.netlify.app/",target:"_blank",rel:"noopener noreferrer"},"Monika Swidzinska")))},C=(a(161),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={question:{value:""},answers:[],pickedAnswerId:0,counter:0,disabled:!1,currentAnswer:{value:"",key:"",votes:0},totalVotes:0,chartData:{labels:[],datasets:[{label:"Votes",data:[],backgroundColor:["rgba(255, 235, 59, 0.6)","rgba(255, 152, 0, 0.6)","rgba(244, 67, 54, 0.6)","rgba(233, 30, 99, 0.6)","rgba(76, 175, 80, 0.6)","rgba(0, 150, 136, 0.6)","rgba(0, 188, 212, 0.6)","rgba(3, 169, 244, 0.6)","rgba(156, 39, 176, 0.6)","rgba(63, 81, 181, 0.6)","rgba(0, 37, 127, 0.6)"]}]}},n.handleInput=n.handleInput.bind(Object(d.a)(n)),n.addAnswer=n.addAnswer.bind(Object(d.a)(n)),n.deleteAnswer=n.deleteAnswer.bind(Object(d.a)(n)),n.setUpdate=n.setUpdate.bind(Object(d.a)(n)),n.reset=n.reset.bind(Object(d.a)(n)),n.updateQuestion=n.updateQuestion.bind(Object(d.a)(n)),n.disableFields=n.disableFields.bind(Object(d.a)(n)),n.disableFields80chars=n.disableFields80chars.bind(Object(d.a)(n)),n.radioOnChange=n.radioOnChange.bind(Object(d.a)(n)),n.onVoteClick=n.onVoteClick.bind(Object(d.a)(n)),n.disableVoteButton=n.disableVoteButton.bind(Object(d.a)(n)),n.createChart=n.createChart.bind(Object(d.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(e){console.log(e,this.state);var t=this.state.question.value.length;this.disableFields(t<1),this.disableVoteButton(),this.createChart()}},{key:"componentDidUpdate",value:function(e){console.log(e,this.state),this.disableVoteButton()}},{key:"updateQuestion",value:function(e){var t=this.state.question.value.length;this.setState({question:{value:e.target.value}}),this.disableFields80chars(t>=81),this.disableFields(t<2),this.createChart()}},{key:"handleInput",value:function(e){this.setState({currentAnswer:{value:e.target.value,key:Date.now(),votes:0}})}},{key:"addAnswer",value:function(e){e.preventDefault();var t=this.state.answers,a=this.state.currentAnswer,n=this.state.currentAnswer.value.length;if(""!==a.value&&0!==a.value.trim().length&&t.length<10){var s=[].concat(Object(i.a)(this.state.answers),[a]);this.setState({answers:s,counter:this.state.counter+1,currentAnswer:{value:"",key:"",votes:0}})}this.disableFields80chars(n>=81),this.disableVoteButton(),this.createChart()}},{key:"deleteAnswer",value:function(e){var t=this.state.answers.filter((function(t){return t.key!==e}));this.setState({answers:t,counter:this.state.counter-1}),this.createChart()}},{key:"setUpdate",value:function(e,t){var a=this,n=this.state.answers;n.map((function(n){return n.key===t&&(n.value=e,a.disableFields80chars(n.value.length>=81)),null})),this.setState({answers:n}),this.createChart()}},{key:"reset",value:function(){this.setState({question:{value:""},answers:[],pickedAnswerId:0,counter:0,disabled:!1,currentAnswer:{value:"",key:"",votes:0},totalVotes:0,chartData:{labels:[],datasets:[{data:[]}]}})}},{key:"disableFields",value:function(e){document.getElementById("add-answer-field").disabled=!!e}},{key:"disableFields80chars",value:function(e){e?(document.getElementById("add-answer-field").disabled=!0,this.setState({disabled:!0})):(document.getElementById("add-answer-field").disabled=!1,this.setState({disabled:!1}))}},{key:"radioOnChange",value:function(e){this.setState({pickedAnswerId:parseInt(e.target.id)}),this.createChart()}},{key:"disableVoteButton",value:function(){this.state.answers.length<1||0===this.state.pickedAnswerId?document.getElementById("btnVote").disabled=!0:document.getElementById("btnVote").disabled=!1}},{key:"onVoteClick",value:function(){var e=this.state.answers,t=this.state.pickedAnswerId;e.map((function(e){return e.key===t&&(e.votes+=1),null})),this.setState({totalVotes:this.state.totalVotes+1,answers:e}),this.createChart()}},{key:"createChart",value:function(){var e=this.state.answers;if(this.state.answers.length>0){var t=e.map((function(e){return e.value})),a=e.map((function(e){return e.votes}));this.setState({chartData:{labels:t,datasets:[{label:"Votes",data:a}]}})}}},{key:"render",value:function(){return s.a.createElement("div",{className:"app d-flex flex-column justify-content-between"},s.a.createElement("div",{className:"d-flex d-md-flex pb-3 mt-3 mb-1 ml-3 mr-2 ml-md-5 mr-md-5 flex-column flex-md-row"},s.a.createElement(w,{question:this.state.question,updateQuestion:this.updateQuestion,answers:this.state.answers,counter:this.state.counter,addAnswer:this.addAnswer,currentAnswer:this.state.currentAnswer,handleInput:this.handleInput,deleteAnswer:this.deleteAnswer,setUpdate:this.setUpdate,disabled:this.state.disabled,reset:this.reset}),s.a.createElement(y,{question:this.state.question,answers:this.state.answers,radioOnChange:this.radioOnChange,onVoteClick:this.onVoteClick}),s.a.createElement(k,{votes:this.state.totalVotes,chartData:this.state.chartData,question:this.state.question})),s.a.createElement("div",{className:"mt-5 pt-5"},s.a.createElement(x,null)))}}]),a}(s.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(162);var O=a(52);l.a.render(s.a.createElement(O.a,null,s.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},53:function(e,t,a){e.exports=a(163)},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},65:function(e,t,a){}},[[53,1,2]]]);
//# sourceMappingURL=main.3ca6b429.chunk.js.map